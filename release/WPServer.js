"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=void 0;var _path=_interopRequireDefault(require("path")),_express=_interopRequireDefault(require("express")),_webpackDevMiddleware=_interopRequireDefault(require("webpack-dev-middleware")),_webpackHotMiddleware=_interopRequireDefault(require("webpack-hot-middleware")),_constant=require("./constant"),_default=function _default(a){var b=a.options;b=void 0===b?{}:b;var c=b.output;c=void 0===c?{}:c;var d=c.path,e=c.publicPath,f=(0,_express["default"])();// server.engine('html', ejs.renderFile);
f.set("views",d),f.set("view engine","html"),f.use((0,_webpackDevMiddleware["default"])(a,{publicPath:e,noInfo:!0,writeToDisk:!1,headers:{"X-Custom-Header":"yes"},logLevel:"error"})),f.use((0,_webpackHotMiddleware["default"])(a)),f.use(_express["default"]["static"](".")),f.get("/",function(a,b){b.send("hello world")}),f.listen(_constant.DEFAULT_SERVICE_PORT,function(a){return a?console.log(a):void console.info("Listening on port :3000. Open up http://0.0.0.0:".concat(_constant.DEFAULT_SERVICE_PORT,"/ in your browser."))})};exports["default"]=_default;